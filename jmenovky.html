<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="utf-8">
    <title>Jmenovky - Print M</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts, Font Awesome, Bootstrap Icons, atd. -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet"> 

    <!-- Vlastní styl pro jmenovky -->
    <style>
        /* Různé fonty (ukázka) */
        @font-face {
            font-family: 'Cassandra';
            src: url('fonts/CassandraPersonalUsuFixed.otf') format('opentype');
        }
        @font-face {
            font-family: 'Catchland';
            src: url('fonts/Catchland_PERSONAL_USE_ONLY.otf') format('opentype');
        }
        @font-face {
            font-family: 'Damion';
            src: url('fonts/Damion-Regular.ttf') format('truetype');
        }
        @font-face {
            font-family: 'MarketingScript';
            src: url('fonts/MarketingScript.ttf') format('truetype');
        }
        @font-face {
            font-family: 'Pacifico';
            src: url('fonts/Pacifico-Regular.ttf') format('truetype');
        }
        @font-face {
            font-family: 'RemoraCamilla';
            src: url('fonts/remoracamillascript-vm1az.otf') format('opentype');
        }
        @font-face {
            font-family: 'Sarina';
            src: url('fonts/Sarina-Regular.ttf') format('truetype');
        }

        /* Styl vstupního pole pro jméno */
        .name-field {
            font-family: 'Cassandra', cursive; /* Výchozí font */
            font-size: 2rem; 
            height: 40px; 
            line-height: 30px; 
            padding: 5px;
            width: 70%;
            text-align: center;
            border: 2px solid #ccc;
            box-sizing: border-box;
            overflow: hidden;
            background-color: #ffffff; 
            /* proměnné pro placeholder */
            --placeholder-color: #000000; 
            --placeholder-font-family: 'Cassandra';
        }

        /* Placeholder dědí styl přes CSS proměnné */
        .name-field::placeholder {
            color: var(--placeholder-color);
            font-family: var(--placeholder-font-family);
            opacity: 1;
        }

        .name-input-container {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40%;
            max-width: 500px;
            margin: auto;
        }

        #add-name,
        #add-all-to-cart {
            width: 40%;
            margin: 0 auto;
            display: block;
        }

        /* Výběr fontu pomocí ukázek */
        .font-sample-selector-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-bottom: 1rem;
        }
        .font-sample-selector-container p {
            width: 100%;
            text-align: center;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .font-sample-selector-container input[type="radio"] {
            position: absolute;
            opacity: 0;
            cursor: pointer;
        }
        .font-sample-selector-container label {
            position: relative;
            cursor: pointer;
        }
        .font-sample-selector-container input[type="radio"] + span {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
            border: 2px solid #ccc;
            border-radius: 4px; 
            transition: border-color 0.2s;
            min-width: 120px;
            min-height: 60px;
            text-align: center;
        }
        .font-sample-selector-container input[type="radio"]:checked + span {
            border-color: #0d6efd;
        }
        
        /* Popis produktu */
        .product-description {
            text-align: left;
            margin-bottom: 1rem;
        }
        .product-description p,
        .product-description ul {
            margin: 0.5rem 0;
        }
        
        /* Propojení */
        .connector-description {
            text-align: center;
            margin-bottom: 0.5rem;
        }
        .connector-selector-container {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 1rem;
        }
        .connector-selector-container input[type="radio"] {
            position: absolute;
            opacity: 0;
            cursor: pointer;
        }
        .connector-selector-container label {
            position: relative;
            cursor: pointer;
        }
        .connector-selector-container input[type="radio"] + img,
        .connector-selector-container input[type="radio"] + span {
            border: 2px solid #ccc;
            border-radius: 4px;
            padding: 4px;
            transition: border-color 0.2s;
            display: block;
            width: 40px;
            height: 40px;
            text-align: center;
            line-height: 40px;
            font-size: 0.9rem;
        }
        .connector-selector-container input[type="radio"]:checked + img,
        .connector-selector-container input[type="radio"]:checked + span {
            border-color: #0d6efd;
        }
        
        /* Výběr barvy */
        .color-selector-container {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 1rem;
        }
        .color-selector-container p {
            width: 100%;
            text-align: center;
            margin: 0;
            font-weight: bold;
        }
        .color-selector-container input[type="radio"] {
            position: absolute;
            opacity: 0;
            cursor: pointer;
        }
        .color-selector-container label {
            position: relative;
            cursor: pointer;
        }
        .color-selector-container input[type="radio"] + span {
            border: 2px solid #ccc;
            border-radius: 4px;
            display: block;
            width: 40px;
            height: 40px;
            transition: border-color 0.2s;
        }
        .color-selector-container input[type="radio"]:checked + span {
            border-color: #0d6efd;
        }

        /* Styl pro carousel obrázků */
        .carousel-item img {
            width: 100%; 
            height: auto; /* aby se výška přizpůsobila obsahu */
        }
    </style>
</head>

<body>
<!-- Navbar -->
<nav class="navbar navbar-expand-lg bg-white navbar-light sticky-top p-0">
    <a href="index.html" class="navbar-brand d-flex align-items-center px-4 px-lg-5">
        <h2 class="m-0 text-primary">Print M</h2>
    </a>
    <button type="button" class="navbar-toggler me-4" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
        <div class="navbar-nav ms-auto p-4 p-lg-0">
            <a href="index.html" class="nav-item nav-link active">Domů</a>
            <a href="service.html" class="nav-item nav-link">Služby</a>
            <a href="project.html" class="nav-item nav-link">Projekty</a>
            <a href="cenik.html" class="nav-item nav-link">Ceník</a>
            <a href="about.html" class="nav-item nav-link">O nás</a>
            <a href="quote.html" class="nav-item nav-link">Poptávka</a>
            <a href="spztky.html" class="nav-item nav-link">SPZtky</a>
            <a href="jmenovky.html" class="nav-item nav-link active">Jmenovky</a>
        </div>
        <a href="cart.html" class="btn btn-primary py-4 px-lg-5 d-none d-lg-block">
            Košík (<span id="cart-count">0</span>)<i class="fa fa-shopping-cart ms-3"></i>
        </a>
    </div>
</nav>

<div class="container-xxl py-5">
    <div class="container">
        <div class="section-title text-center">
            <h1 class="display-5 text-primary">Jmenovky 3D</h1>
        </div>
        <div class="row g-4 justify-content-center">
            <div class="col-md-8">
                <div class="service-item border rounded overflow-hidden shadow text-center">

                    <!-- Více fotek v Carouselu -->
                    <div id="carouselJmenovky" class="carousel slide" data-bs-ride="carousel">
                      <div class="carousel-inner">
                        <!-- První obrázek -->
                        <div class="carousel-item active">
                          <img class="img-fluid" src="img/jmenovky/Jmenovky1.jpg" alt="Jmenovka 3D 1">
                        </div>
                        <!-- Druhý obrázek -->
                        <div class="carousel-item">
                          <img class="img-fluid" src="img/jmenovky/Jmenovky2.jpg" alt="Jmenovka 3D 2">
                        </div>
                        <!-- Třetí obrázek -->
                        <div class="carousel-item">
                          <img class="img-fluid" src="img/jmenovky/Jmenovky3.jpg" alt="Jmenovka 3D 3">
                        </div>
                      </div>
                      <!-- Ovládací šipky -->
                      <button class="carousel-control-prev" type="button" data-bs-target="#carouselJmenovky" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Předchozí</span>
                      </button>
                      <button class="carousel-control-next" type="button" data-bs-target="#carouselJmenovky" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Další</span>
                      </button>
                    </div>

                    <div class="p-4">
                        <h4 class="mb-3">Jmenovka 3D</h4>
                        
                        <!-- Popis produktu -->
                        <div class="product-description">
                            <p>Ozdobte oslavu či svatební tabuli jedinečnými 3D jmenovkami. Každou můžete personalizovat vlastním jménem či nápisem. Vyberte správný font a barvu, které budou dokonale ladit s vaší výzdobou.</p><br>
                            <h5>Technické specifikace:</h5>
                            <ul>
                                <li>Materiál: PLA</li>
                                <li>Výroba: 3D tisk</li>
                                <li>Font: Cassandra personal – písmena jsou navržena tak, aby tvořila jeden pevný objekt.</li>
                                <li>Diakritika / interpunkce: Umisťujeme ji nad písmeno, aby zůstala pevně propojená s nápisem.</li>
                                <li>Velikost: Průměrná velikost jmenovky je cca 40 × 80 × 3 mm (záleží na délce slova).</li>
                                <li>Barevné varianty: Nabízíme více barev, abyste našli tu pravou pro svou akci.</li>
                            </ul>
                        </div>
                        
                        <p class="text-primary fw-bold">15 Kč / jméno</p>

                        <!-- Výběr fontu -->
                        <div class="font-sample-selector-container">
                            <p>Vyberte font:</p>
                            <label title="Cassandra">
                                <input type="radio" name="font-sample" value="Cassandra" checked>
                                <span id="sample-cassandra">Jméno: Kristýna</span>
                            </label>
                            <label title="Catchland">
                                <input type="radio" name="font-sample" value="Catchland">
                                <span id="sample-catchland">Jméno: Kristýna</span>
                            </label>
                            <label title="Damion">
                                <input type="radio" name="font-sample" value="Damion">
                                <span id="sample-damion">Jméno: Kristýna</span>
                            </label>
                            <label title="MarketingScript">
                                <input type="radio" name="font-sample" value="MarketingScript">
                                <span id="sample-marketing">Jméno: Kristýna</span>
                            </label>
                            <label title="Pacifico">
                                <input type="radio" name="font-sample" value="Pacifico">
                                <span id="sample-pacifico">Jméno: Kristýna</span>
                            </label>
                            <label title="RemoraCamilla">
                                <input type="radio" name="font-sample" value="RemoraCamilla">
                                <span id="sample-remora">Jméno: Kristýna</span>
                            </label>
                            <label title="Sarina">
                                <input type="radio" name="font-sample" value="Sarina">
                                <span id="sample-sarina">Jméno: Kristýna</span>
                            </label>
                        </div>
                        
                        <!-- Propojení -->
                        <div class="connector-description">
                            <p class="fw-bold mb-1">Propojení</p>
                            <p class="mb-2">Pokud chcete, aby jmenovka ze dvou či více slov tvořila jeden pevný kus, vyberte vhodný symbol místo mezery.</p>
                        </div>
                        <div class="connector-selector-container">
                            <label title="Žádný symbol">
                                <input type="radio" name="connector" value="none" checked>
                                <span></span>
                            </label>
                            <label title="Arrow">
                                <input type="radio" name="connector" value="arrow">
                                <img src="img/connect/arrow.png" alt="arrow">
                            </label>
                            <label title="Flash">
                                <input type="radio" name="connector" value="flash">
                                <img src="img/connect/flash.png" alt="flash">
                            </label>
                            <label title="Heart">
                                <input type="radio" name="connector" value="heart">
                                <img src="img/connect/heart.png" alt="heart">
                            </label>
                            <label title="Infinity">
                                <input type="radio" name="connector" value="infinity">
                                <img src="img/connect/infinity.png" alt="infinity">
                            </label>
                            <label title="Plane">
                                <input type="radio" name="connector" value="plane">
                                <img src="img/connect/plane.png" alt="plane">
                            </label>
                            <label title="Ring1">
                                <input type="radio" name="connector" value="ring1">
                                <img src="img/connect/Ring1.png" alt="Ring1">
                            </label>
                            <label title="Ring2">
                                <input type="radio" name="connector" value="ring2">
                                <img src="img/connect/Ring2.png" alt="Ring2">
                            </label>
                            <label title="Ring3">
                                <input type="radio" name="connector" value="ring3">
                                <img src="img/connect/Ring3.png" alt="Ring3">
                            </label>
                            <label title="Star">
                                <input type="radio" name="connector" value="star">
                                <img src="img/connect/star.png" alt="star">
                            </label>
                        </div>
                        
                        <!-- Výběr barvy: Defaultně Černá (checked) -->
                        <div class="color-selector-container">
                            <p>Barva:</p>
                            <label title="Černá">
                                <input type="radio" name="color" value="cerna" checked>
                                <span style="background-color: #000000;"></span>
                            </label>
                            <label title="Bílá">
                                <input type="radio" name="color" value="bila">
                                <span style="background-color: #ffffff;"></span>
                            </label>
                            <label title="Modrá">
                                <input type="radio" name="color" value="modra">
                                <span style="background-color: #0d6efd;"></span>
                            </label>
                            <label title="Červená">
                                <input type="radio" name="color" value="cervena">
                                <span style="background-color: #dc3545;"></span>
                            </label>
                            <label title="Zlatá">
                                <input type="radio" name="color" value="zlata">
                                <span style="background-color: #ffd700;"></span>
                            </label>
                            <label title="Žlutá">
                                <input type="radio" name="color" value="zluta">
                                <span style="background-color: #ffc107;"></span>
                            </label>
                            <label title="Zelená">
                                <input type="radio" name="color" value="zelena">
                                <span style="background-color: #198754;"></span>
                            </label>
                            <label title="Šedá">
                                <input type="radio" name="color" value="seda">
                                <span style="background-color: #6c757d;"></span>
                            </label>
                        </div>

                        <!-- Tlačítko přidat další jméno -->
                        <button class="btn btn-primary mb-3" id="add-name">Přidat další jméno</button>

                        <!-- Kontejner pro inputy jmen -->
                        <div id="name-inputs" class="d-flex flex-column align-items-center">
                            <div class="name-input-container mb-2">
                                <span class="me-2 fw-bold">1.</span>
                                <input type="text" class="form-control name-field" placeholder="Nové jméno" maxlength="30">
                                <button class="btn btn-danger btn-sm ms-2 remove-name" onclick="removeName(this)">✖</button>
                            </div>
                        </div>

                        <!-- Tlačítko pro přidání všech jmen do košíku -->
                        <button class="btn btn-primary" id="add-all-to-cart">
                            Přidat všechna jména do košíku
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Skript: logika jmenovek, přidání do localStorage, reindexace, atd. -->
<script src="js/bootstrap.bundle.min.js"></script> <!-- Potřebné pro funkci Carouselu (ovládací šipky) -->
<script>
document.addEventListener("DOMContentLoaded", function () {
    let nameCounter = 1;

    // Výchozí "hrubé" velikosti fontů
    const rawFontSizes = {
      'Cassandra': 2,
      'Catchland': 2,
      'Damion': 3,
      'MarketingScript': 3.2,
      'Pacifico': 2.5,
      'RemoraCamilla': 3.2,
      'Sarina': 3.2
    };

    // Faktor pro inputy
    const globalFactor = 0.5;  
    // Faktor pro náhled
    const previewFactor = 0.5; 

    // Názvy fontů, barev, symbolů (pro zobrazení v košíku)
    const fontNameMap = {
      'Cassandra': 'Cassandra',
      'Catchland': 'Catchland',
      'Damion': 'Damion',
      'MarketingScript': 'MarketingScript',
      'Pacifico': 'Pacifico',
      'RemoraCamilla': 'RemoraCamilla',
      'Sarina': 'Sarina'
    };
    const colorNameMap = {
      'bila': 'Bílá',
      'cerna': 'Černá',
      'modra': 'Modrá',
      'cervena': 'Červená',
      'zlata': 'Zlatá',
      'zluta': 'Žlutá',
      'zelena': 'Zelená',
      'seda': 'Šedá'
    };
    const connectorNameMap = {
      'none': 'Žádný',
      'arrow': 'Šipka',
      'flash': 'Blesk',
      'heart': 'Srdce',
      'infinity': 'Nekonečno',
      'plane': 'Letadlo',
      'ring1': 'Kroužek 1',
      'ring2': 'Kroužek 2',
      'ring3': 'Kroužek 3',
      'star': 'Hvězda'
    };

    // Přepočet velikostí pro input
    let fontSizes = {};
    for (const fontName in rawFontSizes) {
      fontSizes[fontName] = (rawFontSizes[fontName] * globalFactor) + 'rem';
    }

    // Přepočet velikostí pro náhled
    let fontPreviewSizes = {};
    for (const fontName in rawFontSizes) {
      fontPreviewSizes[fontName] = (rawFontSizes[fontName] * previewFactor) + 'rem';
    }

    // Specifické top paddingy pro některé fonty
    const fontTopPadding = { 'Catchland': 20 };
    const totalVerticalPadding = 30;
    const defaultTopPadding = 15;

    // Mapování barev (kód -> CSS barva)
    const colorMap = {
      'bila': "#ffffff",
      'cerna': "#000000",
      'modra': "#0d6efd",
      'cervena': "#dc3545",
      'zlata': "#ffd700",
      'zluta': "#ffc107",
      'zelena': "#198754",
      'seda': "#6c757d"
    };

    // Nastaví font, velikost a placeholder
    function applyFontAndSize(inputElem, font) {
      let size = fontSizes[font] || '2rem';
      inputElem.style.fontFamily = font;
      inputElem.style.fontSize = size;

      let topPad = fontTopPadding[font] || defaultTopPadding;
      let bottomPad = totalVerticalPadding - topPad;
      inputElem.style.padding = `${topPad}px 15px ${bottomPad}px 15px`;
      inputElem.style.lineHeight = "50px";

      // Nastavíme i placeholder font
      inputElem.style.setProperty('--placeholder-font-family', font);

      updateFieldColor(inputElem);
    }

    // Nastaví font a velikost pro náhled "Jméno: Kristýna"
    function applyFontPreview(spanElem, font) {
      let size = fontPreviewSizes[font] || '2rem';
      spanElem.style.fontFamily = font;
      spanElem.style.fontSize = size;
    }

    // Změní barvu textu a podklad i placeholder barvu
    function updateFieldColor(field) {
      let colorInput = document.querySelector('input[name="color"]:checked');
      if (colorInput) {
        let chosenColor = colorMap[colorInput.value];
        field.style.color = chosenColor;
        // Pokud je text bílý => #6c757d, jinak bílá
        field.style.backgroundColor = (chosenColor.toLowerCase() === "#ffffff" ? "#6c757d" : "#ffffff");
        // Placeholder barvu nastavíme stejně jako text
        field.style.setProperty('--placeholder-color', chosenColor);
      }
    }

    // Aktualizace barvy u všech existujících .name-field
    function updateNameFieldsColor() {
      document.querySelectorAll(".name-field").forEach(field => {
        updateFieldColor(field);
      });
    }

    // Aktualizace fontu u všech existujících .name-field
    function updateNameFieldsFont() {
      let selectedFont = document.querySelector('input[name="font-sample"]:checked').value;
      document.querySelectorAll(".name-field").forEach(field => {
        applyFontAndSize(field, selectedFont);
      });
    }

    // Inicializace náhledů "Jméno: Kristýna"
    function initFontPreviews() {
      document.querySelectorAll('.font-sample-selector-container input[name="font-sample"]').forEach(radio => {
        let font = radio.value;
        let spanElem = radio.nextElementSibling;
        applyFontPreview(spanElem, font);
      });
    }

    // Odebrání existující kolonky => reindex a smazání
    window.removeName = function(btn) {
      let parentDiv = btn.parentElement;
      parentDiv.remove();
      reindexNames();
    };

    // Přidat další jméno
    document.getElementById("add-name").addEventListener("click", function () {
      let nameInputs = document.getElementById("name-inputs");
      let newDiv = document.createElement("div");
      newDiv.classList.add("name-input-container", "mb-2");
      newDiv.innerHTML = `
         <span class="me-2 fw-bold">X.</span>
         <input type="text" class="form-control name-field" placeholder="Nové jméno" maxlength="30">
         <button class="btn btn-danger btn-sm ms-2 remove-name">✖</button>
      `;
      nameInputs.appendChild(newDiv);

      let selectedFont = document.querySelector('input[name="font-sample"]:checked').value;
      let inputElement = newDiv.querySelector('.name-field');
      applyFontAndSize(inputElement, selectedFont);

      // Tlačítko pro smazání
      newDiv.querySelector('.remove-name').addEventListener("click", function() {
          newDiv.remove();
          reindexNames();
      });

      // Nastavíme barvu + placeholder
      updateFieldColor(inputElement);

      // Po přidání nové kolonky => reindex
      reindexNames();
    });

    // Funkce pro přeznačení indexů (1., 2., 3., ...)
    function reindexNames() {
      let allContainers = document.querySelectorAll("#name-inputs .name-input-container");
      let index = 1;
      allContainers.forEach(container => {
        let spanIndex = container.querySelector("span.me-2.fw-bold");
        if (spanIndex) {
          spanIndex.textContent = index + ".";
          index++;
        }
      });
    }

    // Přidat všechna jména do košíku
    document.getElementById("add-all-to-cart").addEventListener("click", function () {
      let nameFields = document.querySelectorAll(".name-field");
      let cart = JSON.parse(localStorage.getItem("cart")) || [];

      // Zjištění vybraného fontu, barvy, symbolu
      let selectedFontKey = document.querySelector('input[name="font-sample"]:checked').value;
      let selectedColorKey = document.querySelector('input[name="color"]:checked').value;
      let connectorInput = document.querySelector('input[name="connector"]:checked');

      // Srozumitelné názvy
      let selectedFontName = fontNameMap[selectedFontKey] || selectedFontKey;
      let selectedColorName = colorNameMap[selectedColorKey] || selectedColorKey;
      let selectedConnectorKey = connectorInput ? connectorInput.value : 'none';
      let selectedConnectorName = connectorNameMap[selectedConnectorKey] || 'Žádný';

      nameFields.forEach(field => {
        let nameValue = field.value.trim();
        if (nameValue !== "") {
          // Pokud dvě slova a symbol != none, vložíme symbol
          let words = nameValue.split(/\s+/);
          if (words.length === 2 && selectedConnectorKey !== 'none') {
            let connectorSymbol = "";
            switch (selectedConnectorKey) {
              case "arrow": connectorSymbol = "→"; break;
              case "flash": connectorSymbol = "⚡"; break;
              case "heart": connectorSymbol = "❤️"; break;
              case "infinity": connectorSymbol = "∞"; break;
              case "plane": connectorSymbol = "✈"; break;
              case "ring1": connectorSymbol = "①"; break;
              case "ring2": connectorSymbol = "②"; break;
              case "ring3": connectorSymbol = "③"; break;
              case "star": connectorSymbol = "⭐"; break;
              default: connectorSymbol = "";
            }
            nameValue = `${words[0]} ${connectorSymbol} ${words[1]}`;
          }

          let itemName = `Jmenovka 3D - ${nameValue} (Font: ${selectedFontName}, Barva: ${selectedColorName}, Symbol: ${selectedConnectorName})`;

          let existing = cart.find(item => item.name === itemName);
          if (existing) {
            existing.quantity += 1;
          } else {
            cart.push({
              name: itemName,
              price: 15,
              quantity: 1
            });
          }
        }
      });
      localStorage.setItem("cart", JSON.stringify(cart));
      alert("Všechna jména byla přidána do košíku.");
      updateCartCount();
      resetForm();
    });

    // Eventy pro změnu fontu a barvy
    document.querySelectorAll('input[name="font-sample"]').forEach(input => {
      input.addEventListener("change", updateNameFieldsFont);
    });
    document.querySelectorAll('input[name="color"]').forEach(input => {
      input.addEventListener("change", updateNameFieldsColor);
    });

    // Aktualizace počtu v košíku
    function updateCartCount() {
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      let totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
      let cartCounter = document.getElementById("cart-count");
      if (cartCounter) {
        cartCounter.textContent = totalItems;
      }
    }

    // Reset formuláře
    function resetForm() {
      let nameInputs = document.getElementById("name-inputs");
      nameInputs.innerHTML = `
        <div class="name-input-container mb-2">
          <span class="me-2 fw-bold">1.</span>
          <input type="text" class="form-control name-field" placeholder="Nové jméno" maxlength="30">
          <button class="btn btn-danger btn-sm ms-2 remove-name" onclick="removeName(this)">✖</button>
        </div>
      `;
      let selectedFont = document.querySelector('input[name="font-sample"]:checked').value;
      let firstInput = nameInputs.querySelector('.name-field');
      applyFontAndSize(firstInput, selectedFont);
      updateFieldColor(firstInput);
      // nameCounter se vrátí na 1
      nameCounter = 1;
    }

    // Inicializace
    initFontPreviews();
    let firstField = document.querySelector(".name-field");
    if (firstField) {
      let initialFont = document.querySelector('input[name="font-sample"]:checked').value;
      applyFontAndSize(firstField, initialFont);
      updateFieldColor(firstField);
    }
    updateCartCount();
});
</script>

<!-- Knihovna Bootstrapu pro Carousel (a další funkce) -->
<script src="js/bootstrap.bundle.min.js"></script>
<script src="js/navbar.js"></script>
</body>
</html>
